<head>
  <style>
    table thead {
      background-color: #d2d6d9 !important;
    }
    table thead th {
      color: #009f48 !important;
    }
    table tbody td {
      color: #303655 !important;
    }
    @media print {
      .print-btn {
        display: none;
      }
    }
  </style>
</head>

<div class="main-content">
  <div class="section__content section__content--p30">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <h3 class="title-5 m-b-35">Modelos</h3>
          <button class="print-btn" onclick="printTable()" style="background-color: #009f48; color: white; border: none; padding: 10px 20px; margin-bottom: 20px; cursor: pointer; border-radius: 5px;">
            üñ∏Ô∏è Imprimir Tabla
          </button>
          <div class="table-data__tool-right">
            <a href="#" data-toggle="modal" data-target="#modalModel" class="au-btn au-btn-icon au-btn--green au-btn--small">
              <i class="zmdi zmdi-plus"></i>Modelo</a>
          </div>
          <div class="table-responsive table-responsive-data2">
            <table class="table table-data2" id="modelTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Modelo</th>
                  <th>Marca</th>
                  <th></th>
                </tr>
              </thead>
              {{#if hasModels}}
              <tbody>
                {{#each models}}
                <tr class="tr-shadow">
                  <td>{{ this.id }}</td>
                  <td>{{ this.Model }}</td>
                  <td>{{ this.brandName }}</td>
                  <td>
                    <div class="table-data-feature">
                      <a href="/model/edit/{{ this.id }}" class="item" data-toggle="tooltip" title="Editar">
                        <i class="zmdi zmdi-edit"></i>
                      </a>
                      <a href="/model/delete/{{ this.id }}" class="item" data-toggle="tooltip" title="Eliminar">
                        <i class="zmdi zmdi-delete"></i>
                      </a>
                    </div>
                  </td>
                </tr>
                <tr class="spacer"></tr>
                {{/each}}
              </tbody>
              {{/if}}
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Modelo -->
<div class="modal fade" id="modalModel" tabindex="-1" role="dialog" aria-labelledby="modalModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <form method="POST" action="/model/add">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="login-logo">
            <img src="/images/LogoMedical.png" alt="Logo" />
          </div>
          <div class="login-form">
            <div class="form-group">
              <label>Modelo</label>
              <input type="text" name="Model" required placeholder="Ingresa Nombre Modelo" class="form-control">
            </div>
            <div class="form-group">
              <label>Marca (opcional)</label>
              <select name="id_brand" class="form-control">
                <option value="">-- Seleccione una marca --</option>
                {{#each brands}}
                  <option value="{{this.id_brand}}">{{this.Brand}}</option>
                {{/each}}
              </select>
            </div>

            <div class="form-group">
              <label>Q1</label>
              <input type="text" name="Q1" required placeholder="Q1" class="form-control">
            </div>
            <div class="form-group">
              <label>Q2</label>
              <input type="text" name="Q2" required placeholder="Q2" class="form-control">
            </div>
            <div class="form-group">
              <label>Q3</label>
              <input type="text" name="Q3" required placeholder="Q3" class="form-control">
            </div>
            <div class="form-group">
              <label>Q4</label>
              <input type="text" name="Q4" required placeholder="Q4" class="form-control">
            </div>
            <div class="form-group">
              <label>Q5</label>
              <input type="text" name="Q5" required placeholder="Q5" class="form-control">
            </div>
            <button class="au-btn au-btn--block au-btn--green m-b-20" type="submit">Agregar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  function printTable() {
    var tableContent = document.getElementById('modelTable').outerHTML;
    var printWindow = window.open('', '', 'height=600, width=800');
    printWindow.document.write('<html><head><title>Imprimir Tabla</title>');
    printWindow.document.write('<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">');
    printWindow.document.write('<style>body {font-family: Arial, sans-serif;} table {width: 100%; border-collapse: collapse;} th, td {border: 1px solid #ddd; padding: 8px;} thead {background-color: #d2d6d9;} thead th {color: #009f48;} tbody td {color: #303655;}</style>');
    printWindow.document.write('</head><body>');
    printWindow.document.write(tableContent);
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.print();
  }
</script>
